<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 800px;'></div>
</div>

<script type="text/javascript">
    handler = Gmaps.build('Google');
    //var panoramioLayer = new google.maps.panoramio.PanoramioLayer();
    //panoramioLayer.setMap(handler);

    //var photoPanel = document.getElementById('photo-panel');
    //map.controls[google.maps.ControlPosition.RIGHT_TOP].push(photoPanel);

    handler.buildMap({ 
    	provider: {
    		zoom: 17,
    		center: new google.maps.LatLng(35.487743,133.068154),
    		panControl: false

    	}, 
    	internal: {id: 'map'}
    }, 
    function(){
      markers = handler.addMarkers(<%=raw @hash.to_json %>);
      //handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
    });
</script>